{% extends "base.html" %}
{% load static %}

{% block title %}EduVeera{% endblock %}

{% block content %}
<div class="slider-container position-relative">
  <div class="slider">
    <img src="{% static 'images/img2.jpg' %}" class="slide active" alt="Slide 1">
    <img src="{% static 'images/img3.jpg' %}" class="slide" alt="Slide 2">
    <img src="{% static 'images/img4.jpg' %}" class="slide" alt="Slide 3">
  </div>

  <div class="form-overlay">
    <form class="form-box" method="POST" action="/">
      {% csrf_token %}
      <h2 class="form-title text-center text-dark mb-4">Register Now</h2>

      <input type="text" name="name" placeholder="Name" class="form-control mb-3" required>
      <input type="email" name="email" placeholder="Email" class="form-control mb-3" required>

      <div class="form-group mb-3">
        <label class="form-label">Phone Number</label>
        <div class="input-group">
          <div class="dropdown">
            <button class="btn btn-outline-secondary dropdown-toggle d-flex align-items-center" type="button" id="countryDropdown" data-bs-toggle="dropdown">
              <img src="https://flagcdn.com/w40/in.png" alt="IN" class="me-2" style="width: 20px;"> +91
            </button>
            <ul class="dropdown-menu" id="countryList">
              <li><a class="dropdown-item d-flex align-items-center" data-code="+91" data-flag="in"><img src="https://flagcdn.com/w40/in.png" class="me-2" style="width: 20px;">India (+91)</a></li>
              <li><a class="dropdown-item d-flex align-items-center" data-code="+1" data-flag="us"><img src="https://flagcdn.com/w40/us.png" class="me-2" style="width: 20px;">USA (+1)</a></li>
              <li><a class="dropdown-item d-flex align-items-center" data-code="+44" data-flag="gb"><img src="https://flagcdn.com/w40/gb.png" class="me-2" style="width: 20px;">UK (+44)</a></li>
              <li><a class="dropdown-item d-flex align-items-center" data-code="+971" data-flag="ae"><img src="https://flagcdn.com/w40/ae.png" class="me-2" style="width: 20px;">UAE (+971)</a></li>
            </ul>
          </div>
          <input type="hidden" name="country_code" id="country_code" value="+91">
          <input type="tel" name="phone" class="form-control" placeholder="Phone Number" required>
        </div>
      </div>

      <label for="dob" class="form-label">Date of Birth</label>
      <input type="date" id="dob" name="dob" class="form-control mb-3" required>

      <label for="university" class="form-label">Select University</label>
      <select id="university" name="university" class="form-select mb-3" required>
        <option value="" disabled selected>Select your university</option>
        <option value="amity">Amity University</option>
        <option value="manipal">Manipal University Jaipur</option>
        <option value="sikkim">Sikkim Manipal University</option>
        <option value="mahe">MAHE</option>
        <option value="lpu">Lovely Professional University</option>
        <option value="jain">Jain University</option>
        <option value="sharda">Sharda University</option>
        <option value="uttaranchal">Uttaranchal University</option>
        <option value="kurukshetra">Kurukshetra University</option>
        <option value="dypatil">D.Y Patil University</option>
        <option value="vgu">Vivekanand Global University</option>
        <option value="upes">UPES University</option>
        <option value="gla">GLA University</option>
        <option value="vignan">Vignan University</option>
        <option value="nmims">NMIMS University</option>
        <option value="chandigarh">Chandigarh University</option>
        <option value="amrita">Amrita University</option>
      </select>

      <label for="course" class="form-label">Select Course</label>
      <select id="course" name="course" class="form-select mb-3" required>
        <option value="" disabled selected>Select your course</option>
        <option value="mba">MBA</option>
        <option value="mca">MCA</option>
        <option value="mcom">M.COM</option>
        <option value="ma">MA</option>
        <option value="bba">BBA</option>
        <option value="bca">BCA</option>
        <option value="bcom">BCOM</option>
        <option value="ba">BA</option>
      </select>

      <button type="submit" class="btn btn-primary w-100">Submit</button>
    </form>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  let slides = document.querySelectorAll(".slide");
  let index = 0;
  function showNextSlide() {
    slides[index].classList.remove("active");
    index = (index + 1) % slides.length;
    slides[index].classList.add("active");
  }
  setInterval(showNextSlide, 3000);

  document.querySelectorAll('#countryList .dropdown-item').forEach(item => {
    item.addEventListener('click', function () {
      const code = this.getAttribute('data-code');
      const flag = this.getAttribute('data-flag');
      document.getElementById('countryDropdown').innerHTML = `
        <img src="https://flagcdn.com/w40/${flag}.png" style="width: 20px;" class="me-2"> ${code}
      `;
      document.getElementById('country_code').value = code;
    });
  });
</script>
{% endblock %}